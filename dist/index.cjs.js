"use client";"use strict";var e=require("react");exports.Headroom=n=>{const t=e.useMemo((()=>Object.assign(Object.assign({},n),{pin:!1,upTolerance:5,downTolerance:0,pinStart:0})),[n]),i=e.useRef(0),s=e.useRef(0),a=e.useRef(!1),r=e.useRef(!1),o=e.useRef(null),[c,l]=e.useState({state:"unfixed",translateY:0,animation:!1}),u=()=>{l((e=>Object.assign(Object.assign({},e),{height:o.current?o.current.offsetHeight:0}))),r.current=!1};e.useEffect((()=>{u()}),[]);const d=e.useCallback((()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight),[]),f=e.useCallback((()=>{const e=document.body,n=document.documentElement;return Math.max(e.scrollHeight,n.scrollHeight,e.offsetHeight,n.offsetHeight,e.clientHeight,n.clientHeight)}),[]),g=e.useCallback((e=>{const n=e<0,t=d(),i=f();return n||e+t>i}),[f,d]),b=e.useCallback((()=>{var e;null===(e=t.onUnpin)||void 0===e||e.call(t),l((e=>Object.assign(Object.assign({},e),{translateY:"-100%",animation:!0,state:"unpinned"})))}),[t]),p=e.useCallback((()=>{var e;null===(e=t.onUnfix)||void 0===e||e.call(t),l((e=>Object.assign(Object.assign({},e),{translateY:0,animation:!1}))),setTimeout((()=>{l((e=>Object.assign(Object.assign({},e),{state:"unfixed"})))}),0)}),[t]),h=e.useCallback((()=>{if(i.current=void 0!==window.scrollY?window.scrollY:(document.documentElement||document.body.parentNode||document.body).scrollTop,!g(i.current)){const{action:e}=((e=0,n=0,t,i)=>{const s=n>=e?"down":"up",a=Math.abs(n-e);return t.pin?{action:"pinned"!==i.state?"pin":"none",scrollDirection:s,distanceScrolled:a}:n<=t.pinStart&&"unfixed"!==i.state?{action:"unfix",scrollDirection:s,distanceScrolled:a}:"number"==typeof i.height&&n<=i.height&&"down"===s&&"unfixed"===i.state?{action:"none",scrollDirection:s,distanceScrolled:a}:"number"==typeof i.height&&n>i.height+t.pinStart&&"down"===s&&"unfixed"===i.state?{action:"unpin-snap",scrollDirection:s,distanceScrolled:a}:"down"===s&&["pinned","unfixed"].indexOf(i.state)>=0&&"number"==typeof i.height&&n>i.height+t.pinStart&&a>t.downTolerance?{action:"unpin",scrollDirection:s,distanceScrolled:a}:"up"===s&&a>t.upTolerance&&["pinned","unfixed"].indexOf(i.state)<0||"up"===s&&"number"==typeof i.height&&n<=i.height&&["pinned","unfixed"].indexOf(i.state)<0?{action:"pin",scrollDirection:s,distanceScrolled:a}:{action:"none",scrollDirection:s,distanceScrolled:a}})(s.current,i.current,t,c);"pin"===e?l((e=>Object.assign(Object.assign({},e),{translateY:0,animation:!0,state:"pinned"}))):"unpin"===e?b():"unpin-snap"===e?l((e=>Object.assign(Object.assign({},e),{translateY:"-100%",animation:!1,state:"unpinned"}))):"unfix"===e&&p()}s.current=i.current,a.current=!1}),[g,t,c,p,b]),m=e.useCallback((()=>{a.current||(a.current=!0,h())}),[h]),O=e.useCallback((()=>{r.current||(r.current=!0,u())}),[]);e.useEffect((()=>(window.addEventListener("scroll",m),window.addEventListener("resize",O),()=>{window.removeEventListener("scroll",m),window.removeEventListener("resize",O)})),[m,O]);let w={position:"unfixed"===c.state?"relative":"fixed",top:0,left:0,right:0,zIndex:1,WebkitTransform:`translate3D(0, ${c.translateY}, 0)`,MsTransform:`translate3D(0, ${c.translateY}, 0)`,transform:`translate3D(0, ${c.translateY}, 0)`};return c.animation&&(w=Object.assign(Object.assign({},w),{WebkitTransition:"all .2s ease-in-out",MozTransition:"all .2s ease-in-out",OTransition:"all .2s ease-in-out",transition:"all .2s ease-in-out"})),e.createElement("div",{style:Object.assign(Object.assign({},t.style),{height:c.height})},e.createElement("div",{ref:o,style:w},t.children))};
//# sourceMappingURL=index.cjs.js.map
